<?xml version="1.0"?>
<sdf version="1.6">
  <world name="robotic_arm_world">
    
    <!-- Physics settings -->
    <physics name="default_physics" default="true" type="ode">
      <max_step_size>0.001</max_step_size>
      <real_time_factor>1.0</real_time_factor>
    </physics>
    
    <!-- Lighting -->
    <light name="sun" type="directional">
      <cast_shadows>true</cast_shadows>
      <pose>0 0 10 0 -0 0</pose>
      <diffuse>0.8 0.8 0.8 1</diffuse>
      <specular>0.2 0.2 0.2 1</specular>
      <direction>-0.5 0.1 -0.9</direction>
    </light>

    <!-- Ground Plane -->
    <model name="ground_plane">
      <static>true</static>
      <link name="link">
        <collision name="collision">
          <pose>0 0 -0.025 0 0 0</pose>
          <geometry>
            <plane>
              <normal>0 0 1</normal>
              <size>20 20</size>
            </plane>
          </geometry>
          <surface>
            <friction>
              <ode>
                <mu>100</mu>
                <mu2>50</mu2>
              </ode>
            </friction>
          </surface>
        </collision>
        <visual name="visual">
          <pose>0 0 -0.025 0 0 0</pose>
          <geometry>
            <plane>
              <normal>0 0 1</normal>
              <size>20 20</size>
            </plane>
          </geometry>
          <material>
            <ambient>0.8 0.8 0.8 1</ambient>
            <diffuse>0.8 0.8 0.8 1</diffuse>
            <specular>0.1 0.1 0.1 1</specular>
          </material>
        </visual>
      </link>
    </model>

    <!-- Study Table Model -->
    <model name="study_table">
      <static>true</static>
      <pose>0 0 0 0 0 0</pose>
      <link name="table_link">
        <inertial>
          <mass>50.0</mass>
          <inertia>
            <ixx>10.0</ixx>
            <iyy>8.0</iyy>
            <izz>6.0</izz>
          </inertia>
        </inertial>
        <visual name="table_top">
          <pose>0 0 0.375 0 0 0</pose>
          <geometry>
            <box>
              <size>1.5 1.0 0.05</size>
            </box>
          </geometry>
          <material>
            <ambient>0.8 0.6 0.4 1</ambient>
            <diffuse>0.8 0.6 0.4 1</diffuse>
          </material>
        </visual>
        <visual name="table_leg1">
          <pose>0.7 0.45 0.175 0 0 0</pose>
          <geometry>
            <box>
              <size>0.1 0.1 0.35</size>
            </box>
          </geometry>
          <material>
            <ambient>0.7 0.5 0.3 1</ambient>
            <diffuse>0.7 0.5 0.3 1</diffuse>
          </material>
        </visual>
        <visual name="table_leg2">
          <pose>-0.7 0.45 0.175 0 0 0</pose>
          <geometry>
            <box>
              <size>0.1 0.1 0.35</size>
            </box>
          </geometry>
          <material>
            <ambient>0.7 0.5 0.3 1</ambient>
            <diffuse>0.7 0.5 0.3 1</diffuse>
          </material>
        </visual>
        <visual name="table_leg3">
          <pose>0.7 -0.45 0.175 0 0 0</pose>
          <geometry>
            <box>
              <size>0.1 0.1 0.35</size>
            </box>
          </geometry>
          <material>
            <ambient>0.7 0.5 0.3 1</ambient>
            <diffuse>0.7 0.5 0.3 1</diffuse>
          </material>
        </visual>
        <visual name="table_leg4">
          <pose>-0.7 -0.45 0.175 0 0 0</pose>
          <geometry>
            <box>
              <size>0.1 0.1 0.35</size>
            </box>
          </geometry>
          <material>
            <ambient>0.7 0.5 0.3 1</ambient>
            <diffuse>0.7 0.5 0.3 1</diffuse>
          </material>
        </visual>
        <collision name="table_collision">
          <pose>0 0 0.375 0 0 0</pose>
          <geometry>
            <box>
              <size>1.5 1.0 0.05</size>
            </box>
          </geometry>
        </collision>
        <!-- Wall as part of table -->
        <visual name="wall_visual">
          <pose>0 0.475 0.9 0 0 0</pose>
          <geometry>
            <box>
              <size>0.8 0.05 1.0</size>
            </box>
          </geometry>
          <material>
            <ambient>0.9 0.9 0.9 1</ambient>
            <diffuse>0.9 0.9 0.9 1</diffuse>
          </material>
        </visual>
        <collision name="wall_collision">
          <pose>0 0.475 0.9 0 0 0</pose>
          <geometry>
            <box>
              <size>0.8 0.05 1.0</size>
            </box>
          </geometry>
        </collision>
      </link>
    </model>

    <!-- Tic-Tac-Toe Game Model -->
    <model name="tictactoe_game">
      <static>true</static>
      <pose>0 0.2 0.425 0 0 0</pose>
      
      <!-- Game Board -->
      <link name="board">
        <inertial>
          <mass>2.0</mass>
          <inertia>
            <ixx>0.1</ixx>
            <iyy>0.1</iyy>
            <izz>0.1</izz>
          </inertia>
        </inertial>
        <visual name="board_visual">
          <geometry>
            <box>
              <size>0.4 0.4 0.05</size>
            </box>
          </geometry>
          <material>
            <ambient>0.2 0.2 0.8 1</ambient>
            <diffuse>0.2 0.2 0.8 1</diffuse>
          </material>
        </visual>
        <!-- Grid lines -->
        <visual name="grid_line1">
          <pose>-0.067 0 0.026 0 0 0</pose>
          <geometry>
            <box>
              <size>0.01 0.4 0.002</size>
            </box>
          </geometry>
          <material>
            <ambient>0.1 0.1 0.1 1</ambient>
            <diffuse>0.1 0.1 0.1 1</diffuse>
          </material>
        </visual>
        <visual name="grid_line2">
          <pose>0.067 0 0.026 0 0 0</pose>
          <geometry>
            <box>
              <size>0.01 0.4 0.002</size>
            </box>
          </geometry>
          <material>
            <ambient>0.1 0.1 0.1 1</ambient>
            <diffuse>0.1 0.1 0.1 1</diffuse>
          </material>
        </visual>
        <visual name="grid_line3">
          <pose>0 -0.067 0.026 0 0 0</pose>
          <geometry>
            <box>
              <size>0.4 0.01 0.002</size>
            </box>
          </geometry>
          <material>
            <ambient>0.1 0.1 0.1 1</ambient>
            <diffuse>0.1 0.1 0.1 1</diffuse>
          </material>
        </visual>
        <visual name="grid_line4">
          <pose>0 0.067 0.026 0 0 0</pose>
          <geometry>
            <box>
              <size>0.4 0.01 0.002</size>
            </box>
          </geometry>
          <material>
            <ambient>0.1 0.1 0.1 1</ambient>
            <diffuse>0.1 0.1 0.1 1</diffuse>
          </material>
        </visual>
        <collision name="board_collision">
          <geometry>
            <box>
              <size>0.4 0.4 0.05</size>
            </box>
          </geometry>
        </collision>
      </link>

      <!-- X Pieces -->
      <link name="x_piece_1">
        <pose>0.3 -0.1 -0.02 0 0 0</pose>
        <inertial>
          <mass>0.1</mass>
          <inertia>
            <ixx>0.001</ixx>
            <iyy>0.001</iyy>
            <izz>0.001</izz>
          </inertia>
        </inertial>
        <visual name="x_visual_1">
          <geometry>
            <cylinder>
              <radius>0.03</radius>
              <length>0.01</length>
            </cylinder>
          </geometry>
          <material>
            <ambient>0.8 0.2 0.2 1</ambient>
            <diffuse>0.8 0.2 0.2 1</diffuse>
          </material>
        </visual>
        <collision name="x_collision_1">
          <geometry>
            <cylinder>
              <radius>0.03</radius>
              <length>0.01</length>
            </cylinder>
          </geometry>
        </collision>
      </link>

      <link name="x_piece_2">
        <pose>0.35 -0.1 -0.02 0 0 0</pose>
        <inertial>
          <mass>0.1</mass>
          <inertia>
            <ixx>0.001</ixx>
            <iyy>0.001</iyy>
            <izz>0.001</izz>
          </inertia>
        </inertial>
        <visual name="x_visual_2">
          <geometry>
            <cylinder>
              <radius>0.03</radius>
              <length>0.01</length>
            </cylinder>
          </geometry>
          <material>
            <ambient>0.8 0.2 0.2 1</ambient>
            <diffuse>0.8 0.2 0.2 1</diffuse>
          </material>
        </visual>
        <collision name="x_collision_2">
          <geometry>
            <cylinder>
              <radius>0.03</radius>
              <length>0.01</length>
            </cylinder>
          </geometry>
        </collision>
      </link>

      <link name="x_piece_3">
        <pose>0.4 -0.1 -0.02 0 0 0</pose>
        <inertial>
          <mass>0.1</mass>
          <inertia>
            <ixx>0.001</ixx>
            <iyy>0.001</iyy>
            <izz>0.001</izz>
          </inertia>
        </inertial>
        <visual name="x_visual_3">
          <geometry>
            <cylinder>
              <radius>0.03</radius>
              <length>0.01</length>
            </cylinder>
          </geometry>
          <material>
            <ambient>0.8 0.2 0.2 1</ambient>
            <diffuse>0.8 0.2 0.2 1</diffuse>
          </material>
        </visual>
        <collision name="x_collision_3">
          <geometry>
            <cylinder>
              <radius>0.03</radius>
              <length>0.01</length>
            </cylinder>
          </geometry>
        </collision>
      </link>

      <!-- O Pieces -->
      <link name="o_piece_1">
        <pose>-0.3 -0.1 -0.02 0 0 0</pose>
        <inertial>
          <mass>0.1</mass>
          <inertia>
            <ixx>0.001</ixx>
            <iyy>0.001</iyy>
            <izz>0.001</izz>
          </inertia>
        </inertial>
        <visual name="o_visual_1">
          <geometry>
            <cylinder>
              <radius>0.03</radius>
              <length>0.01</length>
            </cylinder>
          </geometry>
          <material>
            <ambient>0.2 0.8 0.2 1</ambient>
            <diffuse>0.2 0.8 0.2 1</diffuse>
          </material>
        </visual>
        <collision name="o_collision_1">
          <geometry>
            <cylinder>
              <radius>0.03</radius>
              <length>0.01</length>
            </cylinder>
          </geometry>
        </collision>
      </link>

      <link name="o_piece_2">
        <pose>-0.35 -0.1 -0.02 0 0 0</pose>
        <inertial>
          <mass>0.1</mass>
          <inertia>
            <ixx>0.001</ixx>
            <iyy>0.001</iyy>
            <izz>0.001</izz>
          </inertia>
        </inertial>
        <visual name="o_visual_2">
          <geometry>
            <cylinder>
              <radius>0.03</radius>
              <length>0.01</length>
            </cylinder>
          </geometry>
          <material>
            <ambient>0.2 0.8 0.2 1</ambient>
            <diffuse>0.2 0.8 0.2 1</diffuse>
          </material>
        </visual>
        <collision name="o_collision_2">
          <geometry>
            <cylinder>
              <radius>0.03</radius>
              <length>0.01</length>
            </cylinder>
          </geometry>
        </collision>
      </link>

      <link name="o_piece_3">
        <pose>-0.4 -0.1 -0.02 0 0 0</pose>
        <inertial>
          <mass>0.1</mass>
          <inertia>
            <ixx>0.001</ixx>
            <iyy>0.001</iyy>
            <izz>0.001</izz>
          </inertia>
        </inertial>
        <visual name="o_visual_3">
          <geometry>
            <cylinder>
              <radius>0.03</radius>
              <length>0.01</length>
            </cylinder>
          </geometry>
          <material>
            <ambient>0.2 0.8 0.2 1</ambient>
            <diffuse>0.2 0.8 0.2 1</diffuse>
          </material>
        </visual>
        <collision name="o_collision_3">
          <geometry>
            <cylinder>
              <radius>0.03</radius>
              <length>0.01</length>
            </cylinder>
          </geometry>
        </collision>
      </link>

    </model>

    <!-- Single Robotic Arm Model -->
    <model name="robotic_arm">
      <pose>0 0.475 1.4275 0 0 0</pose> <!-- Position the whole model -->
      <static>false</static>
      
      <!-- Base Mount Link -->
      <link name="base_mount_link">
        <pose>0 0 0 0 0 0</pose>
        <inertial>
          <mass>1.0</mass>
          <inertia>
            <ixx>0.001</ixx>
            <iyy>0.001</iyy>
            <izz>0.001</izz>
          </inertia>
        </inertial>
        <visual name="base_mount_visual">
          <geometry>
            <cylinder>
              <radius>0.061</radius>
              <length>0.055</length>
            </cylinder>
          </geometry>
          <material>
            <ambient>0.5 0.5 0.5 1</ambient>
            <diffuse>0.5 0.5 0.5 1</diffuse>
          </material>
        </visual>
        <collision name="base_mount_collision">
          <geometry>
            <cylinder>
              <radius>0.061</radius>
              <length>0.055</length>
            </cylinder>
          </geometry>
        </collision>
      </link>

      <!-- Arm Link 1 -->
      <link name="link1">
        <pose>0 0 0.025 0 0 0</pose>
        <inertial>
          <pose>9.55287669839149E-05 0.000953445773182543 0.0181622223429797 0 0 0</pose>
          <mass>0.018996290781889</mass>
          <inertia>
            <ixx>3.52401713486466E-06</ixx>
            <ixy>-9.57766622211234E-11</ixy>
            <ixz>1.77834467690429E-11</ixz>
            <iyy>2.92480468671507E-06</iyy>
            <iyz>2.27263787135776E-08</iyz>
            <izz>2.43231516201483E-06</izz>
          </inertia>
        </inertial>
        <visual name="link1_visual">
          <geometry>
            <mesh>
              <uri>meshes_1/arm/link1.STL</uri>
            </mesh>
          </geometry>
          <material>
            <ambient>0.2 0.8 0.2 1</ambient>
            <diffuse>0.2 0.8 0.2 1</diffuse>
          </material>
        </visual>
        <collision name="link1_collision">
          <geometry>
            <mesh>
              <uri>meshes_1/arm/link1.STL</uri>
            </mesh>
          </geometry>
        </collision>
      </link>

      <!-- Servo Link 1 -->
      <link name="servo_link1">
        <pose>0 0 0.0324 0 0 0</pose>
        <inertial>
          <pose>6.74971199241745E-05 -0.00653404855626152 0.0238958340366914 0 0 0</pose>
          <mass>0.0116330609777772</mass>
          <inertia>
            <ixx>1.75977694435981E-06</ixx>
            <ixy>-9.73060826949638E-11</ixy>
            <ixz>2.47639220332551E-12</ixz>
            <iyy>2.04910641988494E-06</iyy>
            <iyz>-1.98639869902586E-08</iyz>
            <izz>5.57260556249774E-07</izz>
          </inertia>
        </inertial>
        <visual name="servo_link1_visual">
          <geometry>
            <mesh>
              <uri>meshes_1/arm/servo_link1.STL</uri>
            </mesh>
          </geometry>
          <material>
            <ambient>0.1 0.1 0.1 1</ambient>
            <diffuse>0.1 0.1 0.1 1</diffuse>
          </material>
        </visual>
        <collision name="servo_link1_collision">
          <geometry>
            <mesh>
              <uri>meshes_1/arm/servo_link1_collision.stl</uri>
            </mesh>
          </geometry>
        </collision>
      </link>

      <!-- Arm Link 2 -->
      <link name="link2">
        <pose>0 0 0.0663 0 0 0</pose>
        <inertial>
          <pose>0.000156299570425157 -0.000455113699913916 0.0717727028511975 0 0 0</pose>
          <mass>0.0329250074531705</mass>
          <inertia>
            <ixx>3.91620966174037E-05</ixx>
            <ixy>-5.45461883923424E-11</ixy>
            <ixz>-1.84994427464167E-07</ixz>
            <iyy>3.08453562297899E-05</iyy>
            <iyz>3.5881427402197E-09</iyz>
            <izz>1.15081900975983E-05</izz>
          </inertia>
        </inertial>
        <visual name="link2_visual">
          <geometry>
            <mesh>
              <uri>meshes_1/arm/link2.STL</uri>
            </mesh>
          </geometry>
          <material>
            <ambient>0.2 0.8 0.2 1</ambient>
            <diffuse>0.2 0.8 0.2 1</diffuse>
          </material>
        </visual>
        <collision name="link2_collision">
          <geometry>
            <mesh>
              <uri>meshes_1/arm/link2_collision.stl</uri>
            </mesh>
          </geometry>
        </collision>
      </link>

      <!-- Arm Link 3 -->
      <link name="link3">
        <pose>0 0 0.1957 0 0 0</pose>
        <inertial>
          <pose>0.000128456440925698 -0.000761424622733717 0.071772743785429 0 0 0</pose>
          <mass>0.0329250074463074</mass>
          <inertia>
            <ixx>3.91621699579612E-05</ixx>
            <ixy>-5.40097530558062E-11</ixy>
            <ixz>-1.73786652512013E-07</ixz>
            <iyy>3.08451969920239E-05</iyy>
            <iyz>3.63874236522223E-09</iyz>
            <izz>1.15078234912494E-05</izz>
          </inertia>
        </inertial>
        <visual name="link3_visual">
          <geometry>
            <mesh>
              <uri>meshes_1/arm/link3.STL</uri>
            </mesh>
          </geometry>
          <material>
            <ambient>0.2 0.8 0.2 1</ambient>
            <diffuse>0.2 0.8 0.2 1</diffuse>
          </material>
        </visual>
        <collision name="link3_collision">
          <geometry>
            <mesh>
              <uri>meshes_1/arm/link3_collision.stl</uri>
            </mesh>
          </geometry>
        </collision>
      </link>

      <!-- Arm Link 4 -->
      <link name="link4">
        <pose>0 0 0.3252 0 0 0</pose>
        <inertial>
          <pose>-0.000261855576526311 0.000239368359066633 0.0220971301535388 0 0 0</pose>
          <mass>0.00959141779390409</mass>
          <inertia>
            <ixx>7.94977139591732E-06</ixx>
            <ixy>-8.29446018776969E-10</ixy>
            <ixz>5.6880898756802E-08</ixz>
            <iyy>4.29063067361656E-06</iyy>
            <iyz>-1.84622131688891E-10</iyz>
            <izz>5.33833388813501E-06</izz>
          </inertia>
        </inertial>
        <visual name="link4_visual">
          <geometry>
            <mesh>
              <uri>meshes_1/arm/link4.STL</uri>
            </mesh>
          </geometry>
          <material>
            <ambient>0.2 0.8 0.2 1</ambient>
            <diffuse>0.2 0.8 0.2 1</diffuse>
          </material>
        </visual>
        <collision name="link4_collision">
          <geometry>
            <mesh>
              <uri>meshes_1/arm/link4_collision.stl</uri>
            </mesh>
          </geometry>
        </collision>
      </link>

      <!-- Servo Link 2 -->
      <link name="servo_link2">
        <pose>0 0 0.3797 0 0 0</pose>
        <inertial>
          <pose>0.00829457691057159 0.000114732113040695 -0.0125525321145837 0 0 0</pose>
          <mass>0.00701021225113507</mass>
          <inertia>
            <ixx>6.10646998888003E-07</ixx>
            <ixy>1.66839713815154E-09</ixy>
            <ixz>-2.07626862362467E-08</ixz>
            <iyy>9.477990166652E-07</iyy>
            <iyz>5.12927100881908E-09</iyz>
            <izz>1.44691449724265E-06</izz>
          </inertia>
        </inertial>
        <visual name="servo_link2_visual">
          <geometry>
            <mesh>
              <uri>meshes_1/arm/servo_link2.STL</uri>
            </mesh>
          </geometry>
          <material>
            <ambient>0.1 0.1 0.1 1</ambient>
            <diffuse>0.1 0.1 0.1 1</diffuse>
          </material>
        </visual>
        <collision name="servo_link2_collision">
          <geometry>
            <mesh>
              <uri>meshes_1/arm/servo_link2_collision.stl</uri>
            </mesh>
          </geometry>
        </collision>
      </link>

      <!-- Arm Link 5 -->
      <link name="link5">
        <pose>0 0 0.4151 0 0 0</pose>
        <inertial>
          <pose>-5.40141895711381E-05 -8.30141354428709E-06 0.00351551092860852 0 0 0</pose>
          <mass>0.00101775298619909</mass>
          <inertia>
            <ixx>2.35834256739382E-08</ixx>
            <ixy>-1.92177809145012E-12</ixy>
            <ixz>-3.88572739181837E-12</ixz>
            <iyy>2.35740360938003E-08</iyy>
            <iyz>-1.1228386368903E-13</iyz>
            <izz>4.40224050991292E-08</izz>
          </inertia>
        </inertial>
        <visual name="link5_visual">
          <geometry>
            <mesh>
              <uri>meshes_1/arm/link5.STL</uri>
            </mesh>
          </geometry>
          <material>
            <ambient>0.1 0.1 0.1 1</ambient>
            <diffuse>0.1 0.1 0.1 1</diffuse>
          </material>
        </visual>
        <collision name="link5_collision">
          <geometry>
            <mesh>
              <uri>meshes_1/arm/link5.STL</uri>
            </mesh>
          </geometry>
        </collision>
      </link>

      <!-- Gripper Base Link -->
      <link name="gripper_link">
        <pose>0 0 0.3755 0 0 0</pose>
        <inertial>
          <pose>0.0145481835889059 -0.00315257290321308 0.0253492053712461 0 0 0</pose>
          <mass>0.0174988490314194</mass>
          <inertia>
            <ixx>4.12615692688456E-06</ixx>
            <ixy>-2.75102939068049E-08</ixy>
            <ixz>-7.61180742281118E-09</ixz>
            <iyy>1.57023365316943E-06</iyy>
            <iyz>2.2563082379695E-08</iyz>
            <izz>3.2612101868791E-06</izz>
          </inertia>
        </inertial>
        <visual name="gripper_visual">
          <geometry>
            <mesh>
              <uri>meshes_1/arm/gripper_link.STL</uri>
            </mesh>
          </geometry>
          <material>
            <ambient>0.1 0.1 0.1 1</ambient>
            <diffuse>0.1 0.1 0.1 1</diffuse>
          </material>
        </visual>
        <collision name="gripper_collision">
          <geometry>
            <mesh>
              <uri>meshes_1/arm/gripper_link.STL</uri>
            </mesh>
          </geometry>
        </collision>
      </link>

      <!-- Right Gripper Finger -->
      <link name="r_link">
        <pose>-0.0073166 -0.013992 0.402559 0 0 0</pose>
        <inertial>
          <pose>0.00154652142582958 0.000534112070478834 0.00624030428121536 0 0 0</pose>
          <mass>0.00206265647704866</mass>
          <inertia>
            <ixx>3.97215843669342E-07</ixx>
            <ixy>-2.75699120579387E-10</ixy>
            <ixz>-2.19901048536124E-09</ixz>
            <iyy>3.22472627342115E-07</iyy>
            <iyz>1.07303783544668E-08</iyz>
            <izz>7.78708186672131E-08</izz>
          </inertia>
        </inertial>
        <visual name="r_visual">
          <geometry>
            <mesh>
              <uri>meshes_1/gripper/r_link.STL</uri>
            </mesh>
          </geometry>
          <material>
            <ambient>0.1 0.1 0.1 1</ambient>
            <diffuse>0.1 0.1 0.1 1</diffuse>
          </material>
        </visual>
        <collision name="r_collision">
          <geometry>
            <mesh>
              <uri>meshes_1/gripper/r_link.STL</uri>
            </mesh>
          </geometry>
        </collision>
      </link>

      <!-- Left Gripper Finger -->
      <link name="l_link">
        <pose>-0.0073352 0.013977 0.402557 0 0 0</pose>
        <inertial>
          <pose>0.0015384031888858 -0.000403232726847674 0.00579759783012201 0 0 0</pose>
          <mass>0.00218924933187322</mass>
          <inertia>
            <ixx>4.0534152698165E-07</ixx>
            <ixy>3.60077827494503E-10</ixy>
            <ixz>-1.99675888093364E-09</ixz>
            <iyy>3.31222174181852E-07</iyy>
            <iyz>-8.79337758250917E-09</iyz>
            <izz>7.74319582642917E-08</izz>
          </inertia>
        </inertial>
        <visual name="l_visual">
          <geometry>
            <mesh>
              <uri>meshes_1/gripper/l_link.STL</uri>
            </mesh>
          </geometry>
          <material>
            <ambient>0.1 0.1 0.1 1</ambient>
            <diffuse>0.1 0.1 0.1 1</diffuse>
          </material>
        </visual>
        <collision name="l_collision">
          <geometry>
            <mesh>
              <uri>meshes_1/gripper/l_link.STL</uri>
            </mesh>
          </geometry>
        </collision>
      </link>

      <!-- Left Inner Link -->
      <link name="l_in_link">
        <pose>-0.0144975 0.018917 0.448576 0 0 0</pose>
        <inertial>
          <pose>0.00610191812065245 2.91459132896708E-05 0.0144573768632076 0 0 0</pose>
          <mass>0.000776872870694597</mass>
          <inertia>
            <ixx>9.87455572181138E-08</ixx>
            <ixy>5.06340928475727E-12</ixy>
            <ixz>-6.79685646256186E-10</ixz>
            <iyy>9.76635148452203E-08</iyy>
            <iyz>-6.12115908323794E-12</iyz>
            <izz>2.25695364751658E-09</izz>
          </inertia>
        </inertial>
        <visual name="l_in_visual">
          <geometry>
            <mesh>
              <uri>meshes_1/gripper/l_in_link.STL</uri>
            </mesh>
          </geometry>
          <material>
            <ambient>0.1 0.1 0.1 1</ambient>
            <diffuse>0.1 0.1 0.1 1</diffuse>
          </material>
        </visual>
        <collision name="l_in_collision">
          <geometry>
            <mesh>
              <uri>meshes_1/gripper/l_in_link.STL</uri>
            </mesh>
          </geometry>
        </collision>
      </link>

      <!-- Left Outer Link -->
      <link name="l_out_link">
        <pose>-0.0142932 0.018917 0.477575 0 0 0</pose>
        <inertial>
          <pose>0.00602407836518577 0.0014461936314294 0.00961214041434189 0 0 0</pose>
          <mass>0.00384735908281124</mass>
          <inertia>
            <ixx>8.77337978935691E-07</ixx>
            <ixy>1.36760329013846E-09</ixy>
            <ixz>-6.9462127438421E-09</ixz>
            <iyy>8.19648792008027E-07</iyy>
            <iyz>1.56177294727923E-07</iyz>
            <izz>7.0687486597803E-08</izz>
          </inertia>
        </inertial>
        <visual name="l_out_visual">
          <geometry>
            <mesh>
              <uri>meshes_1/gripper/l_out_link.STL</uri>
            </mesh>
          </geometry>
          <material>
            <ambient>0.1 0.1 0.1 1</ambient>
            <diffuse>0.1 0.1 0.1 1</diffuse>
          </material>
        </visual>
        <collision name="l_out_collision">
          <geometry>
            <mesh>
              <uri>meshes_1/gripper/l_out_link.STL</uri>
            </mesh>
          </geometry>
        </collision>
      </link>

      <!-- Right Inner Link -->
      <link name="r_in_link">
        <pose>-0.0144789 -0.018935 0.448576 0 0 0</pose>
        <inertial>
          <pose>0.00610191812065006 -2.81924690068705E-05 0.0144573787538957 0 0 0</pose>
          <mass>0.000776872870694522</mass>
          <inertia>
            <ixx>9.87465668171204E-08</ixx>
            <ixy>-5.11173808106636E-12</ixy>
            <ixz>-6.79692406191707E-10</ixz>
            <iyy>9.7664293636849E-08</iyy>
            <iyz>-5.14018800149497E-13</iyz>
            <izz>2.25718458778487E-09</izz>
          </inertia>
        </inertial>
        <visual name="r_in_visual">
          <geometry>
            <mesh>
              <uri>meshes_1/gripper/r_in_link.STL</uri>
            </mesh>
          </geometry>
          <material>
            <ambient>0.1 0.1 0.1 1</ambient>
            <diffuse>0.1 0.1 0.1 1</diffuse>
          </material>
        </visual>
        <collision name="r_in_collision">
          <geometry>
            <mesh>
              <uri>meshes_1/gripper/r_in_link.STL</uri>
            </mesh>
          </geometry>
        </collision>
      </link>

      <!-- Right Outer Link -->
      <link name="r_out_link">
        <pose>-0.0142746 -0.018935 0.477575 0 0 0</pose>
        <inertial>
          <pose>0.0060622 -0.0014474 0.0096107 0 0 0</pose>
          <mass>0.0038474</mass>
          <inertia>
            <ixx>8.7734E-07</ixx>
            <ixy>-1.2815E-09</ixy>
            <ixz>-6.7006E-09</ixz>
            <iyy>8.1957E-07</iyy>
            <iyz>-1.5635E-07</iyz>
            <izz>7.0761E-08</izz>
          </inertia>
        </inertial>
        <visual name="r_out_visual">
          <geometry>
            <mesh>
              <uri>meshes_1/gripper/r_out_link.STL</uri>
            </mesh>
          </geometry>
          <material>
            <ambient>0.1 0.1 0.1 1</ambient>
            <diffuse>0.1 0.1 0.1 1</diffuse>
          </material>
        </visual>
        <collision name="r_out_collision">
          <geometry>
            <mesh>
              <uri>meshes_1/gripper/r_out_link.STL</uri>
            </mesh>
          </geometry>
        </collision>
      </link>

      <!-- End effector link -->
      <link name="end_effector_link">
        <pose>0 0 0.4555 0 0 0</pose>
        <inertial>
          <mass>0.001</mass>
          <inertia>
            <ixx>0.000001</ixx>
            <iyy>0.000001</iyy>
            <izz>0.000001</izz>
          </inertia>
        </inertial>
      </link>

      <!-- Camera Connect Link -->
      <link name="camera_connect_link">
        <pose>-0.0507060266977644 0 0.3797 0 0 -1.57079632679489</pose>
        <inertial>
          <pose>-0.00050566 0.010186 0.0012735 0 0 0</pose>
          <mass>0.0029007</mass>
          <inertia>
            <ixx>4.5276E-07</ixx>
            <ixy>-3.2151E-10</ixy>
            <ixz>-8.627E-12</ixz>
            <iyy>5.4068E-07</iyy>
            <iyz>-1.2081E-08</iyz>
            <izz>9.9085E-07</izz>
          </inertia>
        </inertial>
        <visual name="camera_connect_visual">
          <geometry>
            <mesh>
              <uri>meshes_1/arm/camera_connect_link.STL</uri>
            </mesh>
          </geometry>
          <material>
            <ambient>0.1 0.1 0.1 1</ambient>
            <diffuse>0.1 0.1 0.1 1</diffuse>
          </material>
        </visual>
        <collision name="camera_connect_collision">
          <geometry>
            <mesh>
              <uri>meshes_1/arm/camera_connect_link.STL</uri>
            </mesh>
          </geometry>
        </collision>
      </link>

      <!-- Depth Camera Link -->
      <link name="depth_cam_link">
        <pose>-0.0507060266977644 0.0 0.444713484118776 3.14159 -1.5708 -1.5708</pose>
        <inertial>
          <pose>0.00232981322860787 0.000387137406184821 -2.84059740606052E-05 0 0 0</pose>
          <mass>0.015428</mass>
          <inertia>
            <ixx>1.3945E-06</ixx>
            <ixy>-1.5684E-08</ixy>
            <ixz>-2.3104E-07</ixz>
            <iyy>1.2848E-05</iyy>
            <iyz>1.3156E-09</iyz>
            <izz>1.361E-05</izz>
          </inertia>
        </inertial>
        <visual name="depth_cam_visual">
          <geometry>
            <mesh>
              <uri>meshes_1/arm/depth_cam_link.STL</uri>
            </mesh>
          </geometry>
          <material>
            <ambient>0.753 0.753 0.753 1</ambient>
            <diffuse>0.753 0.753 0.753 1</diffuse>
          </material>
        </visual>
        <collision name="depth_cam_collision">
          <geometry>
            <mesh>
              <uri>meshes_1/arm/depth_cam_link_collision.stl</uri>
            </mesh>
          </geometry>
        </collision>
      </link>

      <!-- Depth Camera Frame -->
      <link name="depth_cam_frame">
        <pose>-0.0507060266977644 0.0 0.444713484118776 0 0 0</pose>
        <inertial>
          <mass>0.001</mass>
          <inertia>
            <ixx>1e-6</ixx>
            <iyy>1e-6</iyy>
            <izz>1e-6</izz>
          </inertia>
        </inertial>
      </link>

     

      <!-- Joint 1: Base Mount to Link1 (First DOF - Base Rotation) -->
      <joint name="joint1" type="revolute">
        <parent>base_mount_link</parent>
        <child>link1</child>
        <axis>
          <xyz>0 0 1</xyz>
          <limit>
            <lower>-2.09</lower>
            <upper>2.09</upper>
            <effort>1000</effort>
            <velocity>10</velocity>
          </limit>
          <dynamics>
            <damping>1.0</damping>
            <friction>0.1</friction>
            <spring_reference>0</spring_reference>
            <spring_stiffness>0</spring_stiffness>
          </dynamics>
        </axis>
      </joint>

      <!-- Fixed Joint: Link1 to Servo Link1 -->
      <joint name="servo_joint1" type="fixed">
        <parent>link1</parent>
        <child>servo_link1</child>
      </joint>

      <!-- Joint 2: Servo Link1 to Link2 (Second DOF - Shoulder) -->
      <joint name="joint2" type="revolute">
        <parent>servo_link1</parent>
        <child>link2</child>
        <axis>
          <xyz>0 1 0</xyz>
          <limit>
            <lower>-2.09</lower>
            <upper>2.09</upper>
            <effort>1000</effort>
            <velocity>10</velocity>
          </limit>
          <dynamics>
            <damping>1.0</damping>
            <friction>0.1</friction>
            <spring_reference>0</spring_reference>
            <spring_stiffness>0</spring_stiffness>
          </dynamics>
        </axis>
      </joint>

      <!-- Joint 3: Link2 to Link3 (Third DOF - Elbow) -->
      <joint name="joint3" type="revolute">
        <parent>link2</parent>
        <child>link3</child>
        <axis>
          <xyz>0 1 0</xyz>
          <limit>
            <lower>-2.09</lower>
            <upper>2.09</upper>
            <effort>1000</effort>
            <velocity>10</velocity>
          </limit>
          <dynamics>
            <damping>1.0</damping>
            <friction>0.1</friction>
            <spring_reference>0</spring_reference>
            <spring_stiffness>0</spring_stiffness>
          </dynamics>
        </axis>
      </joint>

      <!-- Joint 4: Link3 to Link4 (Fourth DOF - Wrist 1) -->
      <joint name="joint4" type="revolute">
        <parent>link3</parent>
        <child>link4</child>
        <axis>
          <xyz>0 1 0</xyz>
          <limit>
            <lower>-2.09</lower>
            <upper>2.09</upper>
            <effort>1000</effort>
            <velocity>10</velocity>
          </limit>
          <dynamics>
            <damping>1.0</damping>
            <friction>0.1</friction>
            <spring_reference>0</spring_reference>
            <spring_stiffness>0</spring_stiffness>
          </dynamics>
        </axis>
      </joint>

      <!-- Fixed Joint: Link4 to Servo Link2 -->
      <joint name="servo_joint2" type="fixed">
        <parent>link4</parent>
        <child>servo_link2</child>
      </joint>

      <!-- Joint 5: Servo Link2 to Link5 (Fifth DOF - Wrist 2) -->
      <joint name="joint5" type="revolute">
        <parent>servo_link2</parent>
        <child>link5</child>
        <axis>
          <xyz>0 0 -1</xyz>
          <limit>
            <lower>-2.09</lower>
            <upper>2.09</upper>
            <effort>1000</effort>
            <velocity>10</velocity>
          </limit>
          <dynamics>
            <damping>1.0</damping>
            <friction>0.1</friction>
            <spring_reference>0</spring_reference>
            <spring_stiffness>0</spring_stiffness>
          </dynamics>
        </axis>
      </joint>

      <!-- Joint 6: Link5 to Gripper (Sixth DOF - Wrist 3) -->
      <joint name="joint6" type="revolute">
        <parent>link5</parent>
        <child>gripper_link</child>
        <axis>
          <xyz>0 0 1</xyz>
          <limit>
            <lower>-2.09</lower>
            <upper>2.09</upper>
            <effort>1000</effort>
            <velocity>10</velocity>
          </limit>
          <dynamics>
            <damping>1.0</damping>
            <friction>0.1</friction>
            <spring_reference>0</spring_reference>
            <spring_stiffness>0</spring_stiffness>
          </dynamics>
        </axis>
      </joint>

      <!-- Fixed Joint: Link4 to Camera -->
      <joint name="camera_connect_joint" type="fixed">
        <parent>link4</parent>
        <child>camera_connect_link</child>
      </joint>

      <!-- Fixed Joint: Camera Connect to Depth Camera -->
      <joint name="depth_cam_joint" type="fixed">
        <parent>camera_connect_link</parent>
        <child>depth_cam_link</child>
      </joint>

      <!-- Fixed Joint: Depth Camera to Frame -->
      <joint name="depth_cam_joint_sim" type="fixed">
        <parent>depth_cam_link</parent>
        <child>depth_cam_frame</child>
      </joint>

      <!-- End effector joint -->
      <joint name="end_effector_joint" type="fixed">
        <parent>gripper_link</parent>
        <child>end_effector_link</child>
      </joint>

      <!-- Gripper Joints -->
      <joint name="r_joint" type="revolute">
        <parent>gripper_link</parent>
        <child>r_link</child>
        <axis>
          <xyz>0.99996 -0.004699 -0.0070434</xyz>
          <limit>
            <lower>-1.57</lower>
            <upper>1.57</upper>
            <effort>1000</effort>
            <velocity>10</velocity>
          </limit>
          <dynamics>
            <damping>1.0</damping>
          </dynamics>
        </axis>
      </joint>

      <joint name="l_joint" type="revolute">
        <parent>gripper_link</parent>
        <child>l_link</child>
        <axis>
          <xyz>0.99997 0.0055811 -0.0058397</xyz>
          <limit>
            <lower>-1.57</lower>
            <upper>1.57</upper>
            <effort>1000</effort>
            <velocity>10</velocity>
          </limit>
          <dynamics>
            <damping>1.0</damping>
          </dynamics>
        </axis>
      </joint>

      <joint name="l_in_joint" type="revolute">
        <parent>l_link</parent>
        <child>l_in_link</child>
        <axis>
          <xyz>0.99996 0.0046983 -0.0070439</xyz>
          <limit>
            <lower>-1.57</lower>
            <upper>1.57</upper>
            <effort>1000</effort>
            <velocity>10</velocity>
          </limit>
          <dynamics>
            <damping>1.0</damping>
          </dynamics>
        </axis>
      </joint>

      <joint name="l_out_joint" type="revolute">
        <parent>l_in_link</parent>
        <child>l_out_link</child>
        <axis>
          <xyz>0.99996 0.0046983 -0.0070439</xyz>
          <limit>
            <lower>-1.57</lower>
            <upper>1.57</upper>
            <effort>1000</effort>
            <velocity>10</velocity>
          </limit>
          <dynamics>
            <damping>1.0</damping>
          </dynamics>
        </axis>
      </joint>

      <joint name="r_in_joint" type="revolute">
        <parent>r_link</parent>
        <child>r_in_link</child>
        <axis>
          <xyz>-0.99996 0.0046987 0.0070436</xyz>
          <limit>
            <lower>-1.57</lower>
            <upper>1.57</upper>
            <effort>1000</effort>
            <velocity>10</velocity>
          </limit>
          <dynamics>
            <damping>1.0</damping>
          </dynamics>
        </axis>
      </joint>

      <joint name="r_out_joint" type="revolute">
        <parent>r_in_link</parent>
        <child>r_out_link</child>
        <axis>
          <xyz>-0.99996 0.0046987 0.0070436</xyz>
          <limit>
            <lower>-1.57</lower>
            <upper>1.57</upper>
            <effort>1000</effort>
            <velocity>10</velocity>
          </limit>
          <dynamics>
            <damping>1.0</damping>
          </dynamics>
        </axis>
      </joint>

      <!-- Plugins -->
      <!-- Joint Position Control Plugin for Main Arm Joints (6-DOF) -->
      <plugin name="arm_joint_controller" filename="libgazebo_ros_control.so">
        <robotNamespace>/robotic_arm</robotNamespace>
        <controlPeriod>0.001</controlPeriod>
        <robotParam>robot_description</robotParam>
        <robotParamNode>robot_state_publisher</robotParamNode>
      </plugin>

      <!-- Joint State Publisher Plugin -->
      <plugin name="joint_state_publisher" filename="libgazebo_ros_joint_state_publisher.so">
        <ros>
          <namespace>/robotic_arm</namespace>
          <remapping>joint_states:=joint_states</remapping>
        </ros>
        <update_rate>50</update_rate>
        <joint_name>joint1</joint_name>
        <joint_name>joint2</joint_name>
        <joint_name>joint3</joint_name>
        <joint_name>joint4</joint_name>
        <joint_name>joint5</joint_name>
        <joint_name>joint6</joint_name>
      </plugin>

      <!-- Individual Joint Controllers -->
      <plugin name="joint1_controller" filename="libgazebo_ros_joint_position_controller.so">
        <ros>
          <namespace>/robotic_arm</namespace>
        </ros>
        <joint_name>joint1</joint_name>
        <pid_gain>100 1 10</pid_gain>
        <command_topic>joint1_position_controller/command</command_topic>
        <joint_state_topic>joint_states</joint_state_topic>
      </plugin>

      <plugin name="joint2_controller" filename="libgazebo_ros_joint_position_controller.so">
        <ros>
          <namespace>/robotic_arm</namespace>
        </ros>
        <joint_name>joint2</joint_name>
        <pid_gain>100 1 10</pid_gain>
        <command_topic>joint2_position_controller/command</command_topic>
        <joint_state_topic>joint_states</joint_state_topic>
      </plugin>

      <plugin name="joint3_controller" filename="libgazebo_ros_joint_position_controller.so">
        <ros>
          <namespace>/robotic_arm</namespace>
        </ros>
        <joint_name>joint3</joint_name>
        <pid_gain>100 1 10</pid_gain>
        <command_topic>joint3_position_controller/command</command_topic>
        <joint_state_topic>joint_states</joint_state_topic>
      </plugin>

      <plugin name="joint4_controller" filename="libgazebo_ros_joint_position_controller.so">
        <ros>
          <namespace>/robotic_arm</namespace>
        </ros>
        <joint_name>joint4</joint_name>
        <pid_gain>100 1 10</pid_gain>
        <command_topic>joint4_position_controller/command</command_topic>
        <joint_state_topic>joint_states</joint_state_topic>
      </plugin>

      <plugin name="joint5_controller" filename="libgazebo_ros_joint_position_controller.so">
        <ros>
          <namespace>/robotic_arm</namespace>
        </ros>
        <joint_name>joint5</joint_name>
        <pid_gain>100 1 10</pid_gain>
        <command_topic>joint5_position_controller/command</command_topic>
        <joint_state_topic>joint_states</joint_state_topic>
      </plugin>

      <plugin name="joint6_controller" filename="libgazebo_ros_joint_position_controller.so">
        <ros>
          <namespace>/robotic_arm</namespace>
        </ros>
        <joint_name>joint6</joint_name>
        <pid_gain>100 1 10</pid_gain>
        <command_topic>joint6_position_controller/command</command_topic>
        <joint_state_topic>joint_states</joint_state_topic>
      </plugin>

      <!-- Joint Position Control Plugin for Gripper -->
      <plugin name="gripper_controller" filename="libgazebo_ros_joint_position_controller.so">
        <ros>
          <namespace>/gripper</namespace>
        </ros>
        <joint_name>r_joint</joint_name>
        <joint_name>l_joint</joint_name>
        <joint_name>l_in_joint</joint_name>
        <joint_name>l_out_joint</joint_name>
        <joint_name>r_in_joint</joint_name>
        <joint_name>r_out_joint</joint_name>
        <pid_gain>100 1 10</pid_gain>
      </plugin>
      
      <!-- Joint State Publisher Plugin for Gripper -->
      <plugin name="gripper_joint_state_publisher" filename="libgazebo_ros_joint_state_publisher.so">
        <ros>
          <namespace>/gripper</namespace>
          <remapping>joint_states:=joint_states</remapping>
        </ros>
        <update_rate>50</update_rate>
        <joint_name>r_joint</joint_name>
        <joint_name>l_joint</joint_name>
        <joint_name>l_in_joint</joint_name>
        <joint_name>l_out_joint</joint_name>
        <joint_name>r_in_joint</joint_name>
        <joint_name>r_out_joint</joint_name>
      </plugin>

    </model>

  </world>
</sdf>